{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from 'react-query';\nimport { getUser } from './service';\n\n// Simplify by not extending or omitting anything, just define what you return\n\nexport const useUser = userId => {\n  _s();\n  const {\n    data,\n    error,\n    isLoading\n  } = useQuery(['user', userId], () => getUser(userId), {\n    staleTime: 60000,\n    onError: error => {\n      console.error('Failed to fetch user:', error);\n    }\n  });\n\n  // Make sure the return explicitly matches UseUserResult\n  return {\n    user: data,\n    // rename 'data' to 'entity'\n    error: error,\n    // pass error as is\n    isLoading: isLoading // pass isLoading as is\n  };\n};\n_s(useUser, \"vamb9feK/asxjJLX6wcKCD8DQJA=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["useQuery","getUser","useUser","userId","_s","data","error","isLoading","staleTime","onError","console","user"],"sources":["/Users/cei37/layered-architecture/src/useUser.ts"],"sourcesContent":["import { useQuery, UseQueryResult } from 'react-query';\nimport { getUser } from './service';\nimport { UserEntity } from './userEntity';\n\n// Simplify by not extending or omitting anything, just define what you return\ninterface UseUserResult {\n  user: UserEntity | undefined;\n  error: Error | null;\n  isLoading: boolean;\n}\n\nexport const useUser = (userId: number): UseUserResult => {\n  const { data, error, isLoading } = useQuery<UserEntity, Error>(['user', userId], () => getUser(userId), {\n    staleTime: 60000,\n    onError: (error: Error) => {\n      console.error('Failed to fetch user:', error);\n    },\n  });\n\n  // Make sure the return explicitly matches UseUserResult\n  return {\n    user: data,       // rename 'data' to 'entity'\n    error: error,       // pass error as is\n    isLoading: isLoading // pass isLoading as is\n  };\n};"],"mappings":";AAAA,SAASA,QAAQ,QAAwB,aAAa;AACtD,SAASC,OAAO,QAAQ,WAAW;;AAGnC;;AAOA,OAAO,MAAMC,OAAO,GAAIC,MAAc,IAAoB;EAAAC,EAAA;EACxD,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGP,QAAQ,CAAoB,CAAC,MAAM,EAAEG,MAAM,CAAC,EAAE,MAAMF,OAAO,CAACE,MAAM,CAAC,EAAE;IACtGK,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAGH,KAAY,IAAK;MACzBI,OAAO,CAACJ,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC,CAAC;;EAEF;EACA,OAAO;IACLK,IAAI,EAAEN,IAAI;IAAQ;IAClBC,KAAK,EAAEA,KAAK;IAAQ;IACpBC,SAAS,EAAEA,SAAS,CAAC;EACvB,CAAC;AACH,CAAC;AAACH,EAAA,CAdWF,OAAO;EAAA,QACiBF,QAAQ;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}