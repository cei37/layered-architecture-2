{"ast":null,"code":"// src/components/User/UserComponent.tsx\nimport React from'react';import{useUser,useUpdateUser}from'../../hooks/useUser';import{useRecoilState}from'recoil';import{userFormState}from'../../hooks/recoilState';import{CircularProgress,TextField,Button}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserComponent=_ref=>{let{userId}=_ref;const{data:user,error,isLoading}=useUser(userId);const[formState,setFormState]=useRecoilState(userFormState);const mutation=useUpdateUser();React.useEffect(()=>{if(user){setFormState({id:user.id,name:user.fullName,email:user.email});}},[user,setFormState]);const handleSave=()=>{mutation.mutate({...formState,id:userId});};if(isLoading)return/*#__PURE__*/_jsx(CircularProgress,{});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",value:formState.name,onChange:e=>setFormState(prev=>({...prev,name:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",value:formState.email,onChange:e=>setFormState(prev=>({...prev,email:e.target.value}))}),/*#__PURE__*/_jsx(Button,{onClick:handleSave,disabled:mutation.isLoading,children:\"Save\"})]});};export default UserComponent;","map":{"version":3,"names":["React","useUser","useUpdateUser","useRecoilState","userFormState","CircularProgress","TextField","Button","jsx","_jsx","jsxs","_jsxs","UserComponent","_ref","userId","data","user","error","isLoading","formState","setFormState","mutation","useEffect","id","name","fullName","email","handleSave","mutate","children","message","label","value","onChange","e","prev","target","onClick","disabled"],"sources":["/Users/cei37/layered-architecture-2/src/components/User/UserComponent.tsx"],"sourcesContent":["// src/components/User/UserComponent.tsx\nimport React from 'react';\nimport { useUser, useUpdateUser } from '../../hooks/useUser';\nimport { useRecoilState } from 'recoil';\nimport { userFormState } from '../../hooks/recoilState';\nimport { CircularProgress, TextField, Button } from '@mui/material';\n\nconst UserComponent: React.FC<{ userId: number }> = ({ userId }) => {\n  const { data: user, error, isLoading } = useUser(userId);\n  const [formState, setFormState] = useRecoilState(userFormState);\n  const mutation = useUpdateUser();\n\n  React.useEffect(() => {\n    if (user) {\n      setFormState({\n        id: user.id,\n        name: user.fullName,\n        email: user.email,\n      });\n    }\n  }, [user, setFormState]);\n\n  const handleSave = () => {\n    mutation.mutate({ ...formState, id: userId });\n  };\n\n  if (isLoading) return <CircularProgress />;\n  if (error) return <div>Error: {error.message}</div>;\n\n  return (\n    <div>\n      <TextField\n        label=\"Name\"\n        value={formState.name}\n        onChange={(e) => setFormState((prev) => ({ ...prev, name: e.target.value }))}\n      />\n      <TextField\n        label=\"Email\"\n        value={formState.email}\n        onChange={(e) => setFormState((prev) => ({ ...prev, email: e.target.value }))}\n      />\n      <Button onClick={handleSave} disabled={mutation.isLoading}>\n        Save\n      </Button>\n    </div>\n  );\n};\n\nexport default UserComponent;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,CAAEC,aAAa,KAAQ,qBAAqB,CAC5D,OAASC,cAAc,KAAQ,QAAQ,CACvC,OAASC,aAAa,KAAQ,yBAAyB,CACvD,OAASC,gBAAgB,CAAEC,SAAS,CAAEC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpE,KAAM,CAAAC,aAA2C,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC7D,KAAM,CAAEE,IAAI,CAAEC,IAAI,CAAEC,KAAK,CAAEC,SAAU,CAAC,CAAGjB,OAAO,CAACa,MAAM,CAAC,CACxD,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGjB,cAAc,CAACC,aAAa,CAAC,CAC/D,KAAM,CAAAiB,QAAQ,CAAGnB,aAAa,CAAC,CAAC,CAEhCF,KAAK,CAACsB,SAAS,CAAC,IAAM,CACpB,GAAIN,IAAI,CAAE,CACRI,YAAY,CAAC,CACXG,EAAE,CAAEP,IAAI,CAACO,EAAE,CACXC,IAAI,CAAER,IAAI,CAACS,QAAQ,CACnBC,KAAK,CAAEV,IAAI,CAACU,KACd,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACV,IAAI,CAAEI,YAAY,CAAC,CAAC,CAExB,KAAM,CAAAO,UAAU,CAAGA,CAAA,GAAM,CACvBN,QAAQ,CAACO,MAAM,CAAC,CAAE,GAAGT,SAAS,CAAEI,EAAE,CAAET,MAAO,CAAC,CAAC,CAC/C,CAAC,CAED,GAAII,SAAS,CAAE,mBAAOT,IAAA,CAACJ,gBAAgB,GAAE,CAAC,CAC1C,GAAIY,KAAK,CAAE,mBAAON,KAAA,QAAAkB,QAAA,EAAK,SAAO,CAACZ,KAAK,CAACa,OAAO,EAAM,CAAC,CAEnD,mBACEnB,KAAA,QAAAkB,QAAA,eACEpB,IAAA,CAACH,SAAS,EACRyB,KAAK,CAAC,MAAM,CACZC,KAAK,CAAEb,SAAS,CAACK,IAAK,CACtBS,QAAQ,CAAGC,CAAC,EAAKd,YAAY,CAAEe,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAEX,IAAI,CAAEU,CAAC,CAACE,MAAM,CAACJ,KAAM,CAAC,CAAC,CAAE,CAC9E,CAAC,cACFvB,IAAA,CAACH,SAAS,EACRyB,KAAK,CAAC,OAAO,CACbC,KAAK,CAAEb,SAAS,CAACO,KAAM,CACvBO,QAAQ,CAAGC,CAAC,EAAKd,YAAY,CAAEe,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAET,KAAK,CAAEQ,CAAC,CAACE,MAAM,CAACJ,KAAM,CAAC,CAAC,CAAE,CAC/E,CAAC,cACFvB,IAAA,CAACF,MAAM,EAAC8B,OAAO,CAAEV,UAAW,CAACW,QAAQ,CAAEjB,QAAQ,CAACH,SAAU,CAAAW,QAAA,CAAC,MAE3D,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}