{"ast":null,"code":"// src/components/User/UserComponent.tsx\nimport React,{useState,useEffect}from'react';import{useUser,useUpdateUser}from'../../hooks/useUser';import{CircularProgress,TextField,Button}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserComponent=_ref=>{let{userId}=_ref;const{data:user,error,isLoading}=useUser(userId);const[formState,setFormState]=useState({id:null,name:'',email:''});const mutation=useUpdateUser();useEffect(()=>{if(user){setFormState({id:user.id,name:user.fullName,email:user.email});}},[user]);const handleSave=()=>{if(formState.id!==null){mutation.mutate({...formState});}};if(isLoading)return/*#__PURE__*/_jsx(CircularProgress,{});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",value:formState.name,onChange:e=>setFormState(prev=>prev?{...prev,name:e.target.value}:prev)}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",value:formState.email,onChange:e=>setFormState(prev=>prev?{...prev,email:e.target.value}:prev)}),/*#__PURE__*/_jsx(Button,{onClick:handleSave,disabled:mutation.isLoading,children:\"Save\"})]});};export default UserComponent;","map":{"version":3,"names":["React","useState","useEffect","useUser","useUpdateUser","CircularProgress","TextField","Button","jsx","_jsx","jsxs","_jsxs","UserComponent","_ref","userId","data","user","error","isLoading","formState","setFormState","id","name","email","mutation","fullName","handleSave","mutate","children","message","label","value","onChange","e","prev","target","onClick","disabled"],"sources":["/Users/cei37/layered-architecture-2/src/components/User/UserComponent.tsx"],"sourcesContent":["// src/components/User/UserComponent.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useUser, useUpdateUser } from '../../hooks/useUser';\nimport { UserEntity } from '../../models/UserEntity';\nimport { CircularProgress, TextField, Button } from '@mui/material';\n\nconst UserComponent: React.FC<{ userId: number }> = ({ userId }) => {\n  const { data: user, error, isLoading } = useUser(userId);\n  const [formState, setFormState] = useState<{ id: number | null; name: string; email: string }>({\n    id: null,\n    name: '',\n    email: '',\n  });\n  const mutation = useUpdateUser();\n\n  useEffect(() => {\n    if (user) {\n      setFormState({\n        id: user.id,\n        name: user.fullName,\n        email: user.email,\n      });\n    }\n  }, [user]);\n\n  const handleSave = () => {\n    if (formState.id !== null) {\n      mutation.mutate({ ...formState });\n    }\n  };\n\n  if (isLoading) return <CircularProgress />;\n  if (error) return <div>Error: {error.message}</div>;\n\n  return (\n    <div>\n      <TextField\n        label=\"Name\"\n        value={formState.name}\n        onChange={(e) =>\n          setFormState((prev) => (prev ? { ...prev, name: e.target.value } : prev))\n        }\n      />\n      <TextField\n        label=\"Email\"\n        value={formState.email}\n        onChange={(e) =>\n          setFormState((prev) => (prev ? { ...prev, email: e.target.value } : prev))\n        }\n      />\n      <Button onClick={handleSave} disabled={mutation.isLoading}>\n        Save\n      </Button>\n    </div>\n  );\n};\n\nexport default UserComponent;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,CAAEC,aAAa,KAAQ,qBAAqB,CAE5D,OAASC,gBAAgB,CAAEC,SAAS,CAAEC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpE,KAAM,CAAAC,aAA2C,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC7D,KAAM,CAAEE,IAAI,CAAEC,IAAI,CAAEC,KAAK,CAAEC,SAAU,CAAC,CAAGf,OAAO,CAACW,MAAM,CAAC,CACxD,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAqD,CAC7FoB,EAAE,CAAE,IAAI,CACRC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EACT,CAAC,CAAC,CACF,KAAM,CAAAC,QAAQ,CAAGpB,aAAa,CAAC,CAAC,CAEhCF,SAAS,CAAC,IAAM,CACd,GAAIc,IAAI,CAAE,CACRI,YAAY,CAAC,CACXC,EAAE,CAAEL,IAAI,CAACK,EAAE,CACXC,IAAI,CAAEN,IAAI,CAACS,QAAQ,CACnBF,KAAK,CAAEP,IAAI,CAACO,KACd,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACP,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAU,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAIP,SAAS,CAACE,EAAE,GAAK,IAAI,CAAE,CACzBG,QAAQ,CAACG,MAAM,CAAC,CAAE,GAAGR,SAAU,CAAC,CAAC,CACnC,CACF,CAAC,CAED,GAAID,SAAS,CAAE,mBAAOT,IAAA,CAACJ,gBAAgB,GAAE,CAAC,CAC1C,GAAIY,KAAK,CAAE,mBAAON,KAAA,QAAAiB,QAAA,EAAK,SAAO,CAACX,KAAK,CAACY,OAAO,EAAM,CAAC,CAEnD,mBACElB,KAAA,QAAAiB,QAAA,eACEnB,IAAA,CAACH,SAAS,EACRwB,KAAK,CAAC,MAAM,CACZC,KAAK,CAAEZ,SAAS,CAACG,IAAK,CACtBU,QAAQ,CAAGC,CAAC,EACVb,YAAY,CAAEc,IAAI,EAAMA,IAAI,CAAG,CAAE,GAAGA,IAAI,CAAEZ,IAAI,CAAEW,CAAC,CAACE,MAAM,CAACJ,KAAM,CAAC,CAAGG,IAAK,CACzE,CACF,CAAC,cACFzB,IAAA,CAACH,SAAS,EACRwB,KAAK,CAAC,OAAO,CACbC,KAAK,CAAEZ,SAAS,CAACI,KAAM,CACvBS,QAAQ,CAAGC,CAAC,EACVb,YAAY,CAAEc,IAAI,EAAMA,IAAI,CAAG,CAAE,GAAGA,IAAI,CAAEX,KAAK,CAAEU,CAAC,CAACE,MAAM,CAACJ,KAAM,CAAC,CAAGG,IAAK,CAC1E,CACF,CAAC,cACFzB,IAAA,CAACF,MAAM,EAAC6B,OAAO,CAAEV,UAAW,CAACW,QAAQ,CAAEb,QAAQ,CAACN,SAAU,CAAAU,QAAA,CAAC,MAE3D,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}